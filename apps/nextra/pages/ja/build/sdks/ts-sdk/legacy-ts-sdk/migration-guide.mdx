---
title: "ç§»è¡Œã‚¬ã‚¤ãƒ‰"
---

import { Callout } from 'nextra/components';

<Callout emoji="ğŸš¨" type="error">
  ãƒ¬ã‚¬ã‚·ãƒ¼TypeScript SDKãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ `aptos` ã¯éæ¨å¥¨ã¨ãªã‚Šã€æ–°ã—ã„TypeScript SDKã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã™ã€‚æœ€æ–°ã®æ©Ÿèƒ½ã¨ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ã¤ã„ã¦ã¯ã€[æ–°ã—ã„TypeScript SDK](../../ts-sdk.mdx)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
</Callout>

# TypeScript SDK ç§»è¡Œã‚¬ã‚¤ãƒ‰

`aptos`ã®ä»¥å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³`1.x.x`ã‹ã‚‰ç§»è¡Œã™ã‚‹å ´åˆã€ä»¥ä¸‹ã®æ›´æ–°ãŒå¿…è¦ã§ã™ã€‚

<Callout type="info">
ã“ã®ã‚¬ã‚¤ãƒ‰ã«ã¯ã€éæ¨å¥¨æ©Ÿèƒ½ã«å¿…è¦ãªAPIã®é•ã„ã¨æ›´æ–°ã®ã¿ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚v2 SDKã®æ–°æ©Ÿèƒ½ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
</Callout>

## SDKã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

TypeScript SDK V2ã¯æ–°ã—ã„[GitHubãƒªãƒã‚¸ãƒˆãƒª](https://github.com/aptos-labs/aptos-ts-sdk)ã«ã‚ã‚Šã€æ–°ã—ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å - `@aptos-labs/ts-sdk`ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

```bash npm2yarn
npm i @aptos-labs/ts-sdk
```

## SDKã®ä½¿ç”¨ã¨Aptosãƒã‚§ãƒ¼ãƒ³ã®ã‚¯ã‚¨ãƒª

ã™ã¹ã¦ã®`<*>Client`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆ`AptosClient`ã€`FaucetClient`ã€`CoinClient`ãªã©ï¼‰ã‚’å‰Šé™¤ã—ã€`Aptos`ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã‚¯ãƒ©ã‚¹ã«ç½®ãæ›ãˆã¾ã™ã€‚

**V1**

```ts filename="v1.ts"
const faucetClient = new FaucetClient(NODE_URL, FAUCET_URL);
const aptosClient = new AptosClient(NODE_URL);
const indexerClient = new IndexerClient(INDEXER_URL);
const tokenClient = new TokenClient(aptosClient);
```

**V2**
<Callout type="info">
è©³ç´°ã«ã¤ã„ã¦ã¯[ã“ã¡ã‚‰](../../ts-sdk.mdx)ã‚’ã”è¦§ãã ã•ã„ã€‚
</Callout>

```ts filename="v2.ts"
const aptos = new Aptos();

// ã‚¯ã‚¨ãƒªã®å®Ÿè¡Œ
const fund = await aptos.fundAccount({ accountAddress: "0x123", amount: 100 });
const modules = await aptos.getAccountModules({ accountAddress: "0x123" });
const tokens = await aptos.getAccountOwnedTokens({ accountAddress: "0x123" });
```

## è¨­å®šã‚¯ãƒ©ã‚¹

`Aptos`ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è¨­å®šã™ã‚‹ã«ã¯ã€`AptosConfig`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

```ts filename="v2.ts"
const aptosConfig = new AptosConfig({ network: Network.DEVNET }); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯devnet
const aptos = new Aptos(config);
```

## ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ€ãƒ¼ãƒ•ãƒ­ãƒ¼

ã‚ˆã‚Šç°¡å˜ã§ä½¿ã„ã‚„ã™ã„ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ€ãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’æ¡ç”¨ã—ã€å€‹åˆ¥ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é–¢æ•°ã‚’ã™ã¹ã¦å‰Šé™¤ã—ã¾ã—ãŸã€‚

**V1**

```ts filename="v1.ts"
const aptosClient = new AptosClient(NODE_URL);

// bcsã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã•ã‚ŒãŸå¼•æ•°ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰
const entryFunctionPayload =
  new TxnBuilderTypes.TransactionPayloadEntryFunction(
    TxnBuilderTypes.EntryFunction.natural(
      "0x1::aptos_account",
      "transfer",
      [],
      [bcsToBytes(TxnBuilderTypes.AccountAddress.fromHex(receiver.address()))],
    ),
  );
// ç”Ÿã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆ
const transaction = await client.generateRawTransaction(
  sender.address(),
  entryFunctionPayload,
);

// ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã•ã‚Œã¦ã„ãªã„å¼•æ•°ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰
const payload: Gen.TransactionPayload = {
  type: "entry_function_payload",
  function: "0x1::aptos_account::transfer",
  type_arguments: [],
  arguments: [account2.address().hex(), 100000],
};
// ç”Ÿã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆ
const transaction = await client.generateTransaction(
  account1.address(),
  payload,
);

// ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ç½²å
const signedTransaction = AptosClient.generateBCSTransaction(
  sender,
  transaction,
);
// ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é€ä¿¡
const txn = await client.submitSignedBCSTransaction(signedTransaction);
```

**V2**
<Callout type="info">
è©³ç´°ã«ã¤ã„ã¦ã¯[ã“ã¡ã‚‰](../building-transactions.mdx)ã‚’ã”è¦§ãã ã•ã„ã€‚
</Callout>

```ts filename="v2.ts"
const aptos = new Aptos();

// ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã•ã‚Œã¦ã„ãªã„å¼•æ•°ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³
const transaction = await aptos.build.transaction({
  sender: alice.accountAddress,
  data: {
    function: "0x1::coin::transfer",
    typeArguments: ["0x1::aptos_coin::AptosCoin"],
    functionArguments: [bobAddress, 100],
  },
});

// bcsã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã•ã‚ŒãŸå¼•æ•°ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³
const transaction = await aptos.build.transaction({
  sender: alice.accountAddress,
  data: {
    function: "0x1::coin::transfer",
    typeArguments: [parseTypeTag("0x1::aptos_coin::AptosCoin")],
    functionArguments: [bobAddress, new U64(100)],
  },
});
// ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ç½²å
const senderAuthenticator = aptos.sign.transaction({
  signer: alice,
  transaction,
});
// ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é€ä¿¡
const committedTransaction = await aptos.submit.transaction({
  transaction,
  senderAuthenticator,
});
```

## ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

`AptosAccount`ã‚’`Account`ã«åå‰ã‚’å¤‰æ›´ã—ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç”Ÿæˆ/å°å‡ºã«ã¯é™çš„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

**V1**

```ts filename="v1.ts"
// æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆã¾ãŸã¯ã‚­ãƒ¼ãƒšã‚¢ï¼‰ã®ç”Ÿæˆã€ã¾ãŸã¯ç§˜å¯†éµã‹ã‚‰å°å‡ºã€ã¾ãŸã¯ç§˜å¯†éµã¨ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰å°å‡º
const account = new AptosAccount(); // ãƒ¬ã‚¬ã‚·ãƒ¼Ed25519ã®ã¿ã‚µãƒãƒ¼ãƒˆ

// å°å‡ºãƒ‘ã‚¹ã‹ã‚‰ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å°å‡º
const account = AptosAccount.fromDerivePath(..)
```

**V2**
<Callout type="info">
è©³ç´°ã«ã¤ã„ã¦ã¯[ã“ã¡ã‚‰](../account.mdx)ã‚’ã”è¦§ãã ã•ã„ã€‚
</Callout>

```ts filename="v2.ts"
// æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆã¾ãŸã¯ã‚­ãƒ¼ãƒšã‚¢ï¼‰ã®ç”Ÿæˆ
const account = Account.generate(); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ¬ã‚¬ã‚·ãƒ¼Ed25519
const account = Account.generate({ scheme: SigningSchemeInput.Secp256k1Ecdsa }); // ã‚·ãƒ³ã‚°ãƒ«ã‚»ãƒ³ãƒ€ãƒ¼Secp256k1
const account = Account.generate({
  scheme: SigningSchemeInput.Ed25519,
  legacy: false,
}); // ã‚·ãƒ³ã‚°ãƒ«ã‚»ãƒ³ãƒ€ãƒ¼Ed25519

// ç§˜å¯†éµã‹ã‚‰ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å°å‡º
const account = Account.fromPrivateKey({ privateKey });

// ç§˜å¯†éµã¨ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å°å‡º
const account = Account.fromPrivateKeyAndAddress({
  privateKey,
  address: accountAddress,
});

// å°å‡ºãƒ‘ã‚¹ã‹ã‚‰ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å°å‡º
const account = Account.fromDerivationPath({
  path,
  mnemonic,
  scheme: SigningSchemeInput.Ed25519,
});
```
