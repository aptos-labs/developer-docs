---
title: "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã®ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³"
---

import { Callout, Steps } from "nextra/components";

# ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã®ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

<Callout type="warning">
  ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã®ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ³¨æ„ã—ã¦ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹é«˜åº¦ãªæ©Ÿèƒ½ã§ã™ã€‚
  ã»ã¨ã‚“ã©ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã“ã®æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
</Callout>

Aptos Moveã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã¯ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹ã€èªè¨¼ã‚­ãƒ¼ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚­ãƒ¼ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ°¸ç¶šçš„ã§ã€å¸¸ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®åˆæœŸèªè¨¼ã‚­ãƒ¼ã¨ä¸€è‡´ã—ã€ã“ã‚Œã¯å…ƒã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‹ã‚‰æ´¾ç”Ÿã—ã¾ã™ã€‚

Aptosã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã¯ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‚’ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ç‹¬è‡ªã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯_åˆæœŸ_èªè¨¼ã‚­ãƒ¼ã§ã‚ã‚‹ãŸã‚ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãªãã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç½²åèƒ½åŠ›ã‚’åˆ¥ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã«ç§»è»¢ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€CLIã¨è¤‡æ•°ã®Aptos SDKã‚’ä½¿ç”¨ã—ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼ã‚­ãƒ¼ã‚’ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹æ–¹æ³•ã®ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

ã“ã®ã‚µãƒ³ãƒ—ãƒ«ã§æ‰±ã†SDKã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒªãƒ³ã‚¯ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™:

- [Aptos CLI](../cli.mdx)
- [Typescript SDK](../sdks/ts-sdk.mdx)
- [Python SDK](../sdks/python-sdk.mdx)

<Callout type="warning">
ä»¥ä¸‹ã®ä¾‹ã®ä¸€éƒ¨ã§ã¯ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã¯èª°ã¨ã‚‚å…±æœ‰ã—ãªã„ã§ãã ã•ã„ã€‚
</Callout>

## è¨¼æ˜æ¸ˆã¿ãŠã‚ˆã³æœªè¨¼æ˜ã®ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã¯ã€2ã¤ã®Move APIã‚’é€šã˜ã¦å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™:

1. "è¨¼æ˜æ¸ˆã¿"ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹[`account::rotate_authentication_key`]
1. "æœªè¨¼æ˜"ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹[`account::rotate_authentication_key_call`]

### è¨¼æ˜æ¸ˆã¿ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

[`account::rotate_authentication_key`] APIã¯ã€ç½²åã•ã‚ŒãŸ[`account::RotationProofChallenge`]ã‚’å¿…è¦ã¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ“ä½œãŒæ“ä½œã®å‰å¾Œ_ä¸¡æ–¹_ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã«ã‚ˆã£ã¦æ‰¿èªã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’è¨¼æ˜ã—ã¾ã™ã€‚æ“ä½œãŒæˆåŠŸã™ã‚‹ã¨ã€[`account::OriginatingAddress`]ãƒ†ãƒ¼ãƒ–ãƒ«ãŒæ›´æ–°ã•ã‚Œã€æ–°ã—ã„èªè¨¼ã‚­ãƒ¼ã‹ã‚‰å¯¾å¿œã™ã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã¸ã®ãƒãƒƒãƒ”ãƒ³ã‚°ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚

[`account::OriginatingAddress`]ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ã€ä¸ãˆã‚‰ã‚ŒãŸèªè¨¼ã‚­ãƒ¼ã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç…§ä¼šã§ãã‚‹é€†å¼•ããƒ†ãƒ¼ãƒ–ãƒ«ã§ã€èªè¨¼ã‚­ãƒ¼ã”ã¨ã«1ã¤ã®ã‚¨ãƒ³ãƒˆãƒªã®ã¿ã‚’è¨±å¯ã—ã¾ã™ã€‚ãã®ãŸã‚ã€ç½²åã•ã‚ŒãŸ[`account::RotationProofChallenge`]ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€æ‚ªæ„ã®ã‚ã‚‹è¡Œç‚ºè€…ãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼ã‚­ãƒ¼ã‚’æ—¢ã«ãƒ†ãƒ¼ãƒ–ãƒ«ã«å­˜åœ¨ã™ã‚‹ã‚­ãƒ¼ã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã“ã¨ã‚’é˜²ãã¾ã™ã€‚ã“ã®ã‚ˆã†ãªæ”»æ’ƒã¯ã€èªè¨¼ã‚­ãƒ¼ã®ä¿æŒè€…ãŒä»¥å‰ã«æ‰¿èªã—ãŸæœ‰åŠ¹ãªç™ºä¿¡å…ƒã‚¢ãƒ‰ãƒ¬ã‚¹ã®æ¤œç´¢ã‚’å¦¨ã’ã‚‹ã“ã¨ã«ãªã‚‹ãŸã‚ã§ã™ã€‚

æ³¨ç›®ã™ã¹ãç‚¹ã¨ã—ã¦ã€[`account::OriginatingAddress`]ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ã€æ¨™æº–çš„ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆç”Ÿæˆæ™‚ã§ã¯ãªãã€ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ™‚_ã®ã¿_æ›´æ–°ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€è¨¼æ˜æ¸ˆã¿ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ç†è«–çš„ã«1ã¤ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã§åŒæ™‚ã«æœ€å¤§2ã¤ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’èªè¨¼ã§ãã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™:

1. æ¨™æº–çš„ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆç”Ÿæˆæ™‚ã«ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‹ã‚‰æ´¾ç”Ÿã—ãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹(ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã£ã¦ã„ãªã„å ´åˆ)
1. èªè¨¼ã‚­ãƒ¼ãŒå½“è©²ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã•ã‚ŒãŸ2ã¤ç›®ã®ä»»æ„ã®ã‚¢ãƒ‰ãƒ¬ã‚¹

ãŸã ã—ã€1ã¤ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã§_1ã¤_ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã¿ã‚’èªè¨¼ã™ã‚‹ã“ã¨ãŒãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ãªãœãªã‚‰ã€[`account::OriginatingAddress`]ãƒ†ãƒ¼ãƒ–ãƒ«ãŒæ›´æ–°ã•ã‚Œã‚‹ãŸã³ã«ã€åŸºç¤ã¨ãªã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã¯ã¾ãšã€ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®åˆæœŸèªè¨¼ã‚­ãƒ¼ãŒãƒ†ãƒ¼ãƒ–ãƒ«ã«å­˜åœ¨ã™ã‚‹ã‹ã‚’ç¢ºèªã—ã€å­˜åœ¨ã™ã‚‹å ´åˆã¯ã€ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒãƒ†ãƒ¼ãƒ–ãƒ«ã§ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨ä¸€è‡´ã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã§ã™ã€‚

ã“ã‚Œã¯ã€ä»»æ„ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼ã‚­ãƒ¼ãŒç‰¹å®šã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã•ã‚ŒãŸå ´åˆã€ãã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‹ã‚‰å…ƒã€…æ´¾ç”Ÿã—ãŸæ¨™æº–ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯ã€é–¢é€£ã™ã‚‹èªè¨¼ã‚­ãƒ¼ãŒ[`account::OriginatingAddress`]ãƒ†ãƒ¼ãƒ–ãƒ«ã§2ã¤ç›®ã®ä»»æ„ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹é–“ã¯ã€æœ€åˆã®èªè¨¼ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã§ããªã„ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒãƒ†ãƒ¼ãƒ–ãƒ«ã§ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨ä¸€è‡´ã™ã‚‹ã‹ã®ãƒã‚§ãƒƒã‚¯ã«å¤±æ•—ã™ã‚‹ãŸã‚ã§ã™(ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ™‚ã®ã¿æ›´æ–°ã•ã‚Œã€æ¨™æº–çš„ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆç”Ÿæˆæ™‚ã«ã¯æ›´æ–°ã•ã‚Œãªã„ãŸã‚)ã€‚

ã“ã®å•é¡Œã‚’é˜²ãã€ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«å¾“ã†ãŸã‚ã«ã€æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç”Ÿæˆã—ãŸå¾Œã¯å¸¸ã«[`account::set_originating_address`]ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™(ä»¥ä¸‹ã®CLIãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’å‚ç…§)ã€‚

### æœªè¨¼æ˜ã®ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

[`account::rotate_authentication_key`]ã¨ã¯ç•°ãªã‚Šã€[`account::rotate_authentication_key_call`]ã¯ç½²åã•ã‚ŒãŸ[`account::RotationProofChallenge`]ã‚’å¿…è¦ã¨ã—ã¾ã›ã‚“ã€‚ã“ã‚Œã¯ã€æ“ä½œã®_å¾Œ_ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ãŒã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ‰¿èªã—ãŸã¨ã„ã†æ„å‘³ã§ã®è¨¼æ˜ãŒãªã„ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ãã®ãŸã‚ã€[`account::OriginatingAddress`]ãƒ†ãƒ¼ãƒ–ãƒ«ã¯æœªè¨¼æ˜ã®ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯_æ›´æ–°ã•ã‚Œãš_ã€ã—ãŸãŒã£ã¦1ã¤ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã§èªè¨¼ã§ãã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ•°ã«åˆ¶é™ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãªãŠã€`aptos` CLIã¯ç¾åœ¨ã€æœªè¨¼æ˜ã®ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚

<Callout type="info" emoji="ğŸ§ ">
[`account::rotate_authentication_key_call`]ã¯ã€ãƒ‘ã‚¹ã‚­ãƒ¼ã®ã‚ˆã†ãªéæ¨™æº–ã®ã‚­ãƒ¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«å°å…¥ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã¯ã€ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ“ä½œä¸­ã«çŸ¥è­˜ã®è¨¼æ˜ã‚’ç”Ÿæˆã§ãã¾ã›ã‚“ã€‚
</Callout>

æœªè¨¼æ˜ã®ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é€šã˜ã¦ã€1ã¤ã®èªè¨¼ã‚­ãƒ¼ã§æœ›ã‚€ã ã‘å¤šãã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’èªè¨¼ã™ã‚‹ã“ã¨ã¯æŠ€è¡“çš„ã«ã¯å¯èƒ½ã§ã™ãŒã€ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯1å¯¾1ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ä¿è¨¼ã—ãªã„ãŸã‚ã€ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨ã¯è€ƒãˆã‚‰ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

æœªè¨¼æ˜ã®ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã€ç™ºä¿¡å…ƒã‚¢ãƒ‰ãƒ¬ã‚¹ã®æ¤œç´¢ã‚’å®¹æ˜“ã«ã™ã‚‹ãŸã‚ã«ã€èªè¨¼ã‚­ãƒ¼ã‹ã‚‰ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã¸ã®1å¯¾1ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ç¢ºä¿ã™ã‚‹ãŸã‚ã€[`account::set_originating_address`]ã§ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™(ä»¥ä¸‹ã®CLIãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’å‚ç…§)ã€‚

## Aptos CLIã‚’ä½¿ç”¨ã—ãŸã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

<Steps>

### ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆã®èµ·å‹•

ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆã‚’èµ·å‹•ã—ã¾ã™:

```sh filename="Terminal"
aptos node run-localnet
```

ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚ŒãŸã‚‰æº–å‚™å®Œäº†ã§ã™:

```sh filename="Terminal"
Applying post startup steps...

Setup is complete, you can now use the localnet!
```

<Callout type="info" emoji="ğŸ§ ">
UNIXãƒ©ã‚¤ã‚¯ãªã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã¨ã—ã¦æ–°ã—ã„ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆã‚’èµ·å‹•ã§ãã¾ã™:

```sh filename="Terminal"
mkdir -p localnet-data
aptos node run-localnet \
    --assume-yes \
    --test-dir localnet-data \
    --force-restart &
export LOCALNET_PID=$!
```
ãã®å¾Œã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã„ã¤ã§ã‚‚ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆã‚’åœæ­¢ã§ãã¾ã™:

```sh filename="Terminal"
kill $LOCALNET_PID
```

</Callout>

### ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã®ç”Ÿæˆ

èªè¨¼ã‚­ãƒ¼(ãã—ã¦åˆæœŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹)ã«å¯¾å¿œã™ã‚‹ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯`0xaaa`ã¨ã„ã†ãƒãƒ‹ãƒ†ã‚£ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§å§‹ã¾ã‚Šã¾ã™:

```sh filename="Terminal"
aptos key generate \
    --assume-yes \
    --output-file private-key-a \
    --vanity-prefix 0xaaa
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": {
    "Account Address:": "0xaaa5131b4d3fcef8d33ee465c4ee65727e36039f283455be87b1164200572e5b",
    "PublicKey Path": "private-key-a.pub",
    "PrivateKey Path": "private-key-a"
  }
}
```
</details>
ã“ã‚Œã«ã‚ˆã‚Šã€2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™:

1. `private-key-a`ã«ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼
1. `private-key-a.pub`ã«ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚­ãƒ¼

èªè¨¼ã‚­ãƒ¼ã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒã¾ã å­˜åœ¨ã—ãªã„ãŸã‚ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã¯å¯¾å¿œã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã¨ã‚‚ã«å¤±æ•—ã™ã‚‹ã¯ãšã§ã™:

```sh filename="Terminal"
aptos account lookup-address \
    --public-key-file private-key-a.pub \
    --url http://localhost:8080
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Error": "API error: API error Error(AccountNotFound): Account not found by Address(0xaaafb224eb00e4d0ef520ce02038ede850893622562a4189b7f6e5d94454ccd9) and Ledger version(1206)"
}
```
</details>

### ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®åˆæœŸåŒ–

ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆä¸Šã§`test-profile-1`ã‚’åˆæœŸåŒ–ã—ã¾ã™:

```sh filename="Terminal"
aptos init \
    --assume-yes \
    --network local \
    --private-key-file private-key-a \
    --profile test-profile-1
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
Configuring for profile test-profile-1
Configuring for network Local
Using command line argument for private key
Account 0xaaa5131b4d3fcef8d33ee465c4ee65727e36039f283455be87b1164200572e5b doesn\'t exist, creating it and funding it with 100000000 Octas
Account 0xaaa5131b4d3fcef8d33ee465c4ee65727e36039f283455be87b1164200572e5b funded successfully

---
Aptos CLI is now set up for account 0xaaa5131b4d3fcef8d33ee465c4ee65727e36039f283455be87b1164200572e5b as profile test-profile-1!  Run `aptos --help` for more information about commands
{
  "Result": "Success"
}
```
</details>

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã„ã¤ã§ã‚‚ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã§ãã¾ã™:

```sh filename="Terminal"
aptos config show-profiles --profile test-profile-1
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": {
    "test-profile-1": {
      "has_private_key": true,
      "public_key": "0xe0bfe46f41c5be40e7a068e8dff4d6016126b226d947a39262f5b2347217a7e3",
      "account": "aaa5131b4d3fcef8d33ee465c4ee65727e36039f283455be87b1164200572e5b",
      "rest_url": "http://localhost:8080",
      "faucet_url": "http://localhost:8081"
    }
  }
}
```
</details>
ãŸã ã—ã€ã“ã‚Œã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§éè¡¨ç¤ºã«ãªã£ã¦ã„ã‚‹ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„å ´åˆã¯:

```sh filename="Terminal"
aptos config show-private-key --profile test-profile-1
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": "0xcc3b0c38ad99e171263a7af930464313d1fb105d0d8e6a4b13f9b1140563a7dd"
}
```
</details>
### ã‚¢ãƒ‰ãƒ¬ã‚¹ã®æ¤œç´¢

èªè¨¼ã‚­ãƒ¼ã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒã§ããŸã®ã§ã€
`aptos account lookup-address`ã‚’ä½¿ç”¨ã—ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ¤œç´¢ã§ãã¾ã™:

```sh filename="Terminal"
aptos account lookup-address \
    --public-key-file private-key-a.pub \
    --url http://localhost:8080
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": "aaa5131b4d3fcef8d33ee465c4ee65727e36039f283455be87b1164200572e5b"
}
```
</details>
ã“ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ã‚·ã‚§ãƒ«å¤‰æ•°ã«æ ¼ç´ã—ã¾ã™ï¼š

```sh filename="Terminal"
ADDRESS_A=aaa...
```

<Callout type="info" emoji="ğŸ§ ">
`jq`ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹UNIXç³»ãƒã‚·ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç°¡å˜ã«ä¿å­˜ã§ãã¾ã™:

```sh filename="Terminal"
export ADDRESS_A=$(
    aptos account lookup-address \
        --public-key-file private-key-a.pub \
        --url http://localhost:8080 \
            | jq -r '.Result'
)
echo $ADDRESS_A
```
</Callout>

### èªè¨¼ã‚­ãƒ¼ã®æ¤œç´¢

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒæœ€åˆã«ä½œæˆã•ã‚ŒãŸã¨ãã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ãã®èªè¨¼ã‚­ãƒ¼ã¨åŒä¸€ã§ã‚ã‚‹ã“ã¨ã‚’æ€ã„å‡ºã—ã¦ãã ã•ã„ã€‚ã¤ã¾ã‚Šã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹`aaa...`ã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼ã‚­ãƒ¼ã¨åŒä¸€ã§ã™ï¼š

```sh filename="Terminal"
aptos move view \
    --args address:$ADDRESS_A \
    --function-id 0x1::account::get_authentication_key \
    --url http://localhost:8080
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": [
    "0xaaa5131b4d3fcef8d33ee465c4ee65727e36039f283455be87b1164200572e5b"
  ]
}
```
</details>
ã—ãŸãŒã£ã¦ã€èªè¨¼ã‚­ãƒ¼ã‚’ã‚·ã‚§ãƒ«å¤‰æ•°ã«æ ¼ç´ã—ã¾ã™ï¼š

```sh
AUTH_KEY_A=$ADDRESS_A
ãŸã ã—ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼ã‚­ãƒ¼ãŒã¾ã ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€[`account::OriginatingAddress`]ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã¯å¯¾å¿œã™ã‚‹ã‚¨ãƒ³ãƒˆãƒªãŒã‚ã‚Šã¾ã›ã‚“ï¼š

```sh filename="Terminal"
aptos move view \
    --args address:$AUTH_KEY_A \
    --function-id 0x1::account::originating_address \
    --url http://localhost:8080
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": [
    {
      "vec": []
    }
  ]
}
```
</details>
### ç™ºä¿¡å…ƒã‚¢ãƒ‰ãƒ¬ã‚¹ã®è¨­å®š

ã“ã®æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®[`account::OriginatingAddress`]ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚¨ãƒ³ãƒˆãƒªã‚’ç¢ºå®Ÿã«ä½œæˆã™ã‚‹ãŸã‚ã«ã€[`account::set_originating_address`]ã‚’å®Ÿè¡Œã§ãã¾ã™ï¼š

```sh filename="Terminal"
aptos move run \
    --assume-yes \
    --function-id 0x1::account::set_originating_address \
    --profile test-profile-1
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": {
    "transaction_hash": "0x216992ef37a3c2f42aa9f8fed8f94d9f945a00e952dfe96b46123bb5c387ab6c",
    "gas_used": 444,
    "gas_unit_price": 100,
    "sender": "aaa5131b4d3fcef8d33ee465c4ee65727e36039f283455be87b1164200572e5b",
    "sequence_number": 0,
    "success": true,
    "timestamp_us": 1717809169531279,
    "version": 3268,
    "vm_status": "Executed successfully"
  }
}
```
</details>

ãã®å¾Œã€[`account::OriginatingAddress`]ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚¨ãƒ³ãƒˆãƒªãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ï¼š

```sh filename="Terminal"
aptos move view \
    --args address:$AUTH_KEY_A \
    --function-id 0x1::account::originating_address \
    --url http://localhost:8080
```
<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": [
    {
      "vec": [
        "0xaaa5131b4d3fcef8d33ee465c4ee65727e36039f283455be87b1164200572e5b"
      ]
    }
  ]
}
```
</details>

### èªè¨¼ã‚­ãƒ¼ã®ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

æ–°ã—ã„ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‚’ç”Ÿæˆã—ã¾ã™ï¼š

```sh filename="Terminal"
aptos key generate \
    --assume-yes \
    --output-file private-key-b \
    --vanity-prefix 0xbbb
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": {
    "PrivateKey Path": "private-key-b",
    "Account Address:": "0xbbbdb12f4fa23b8fe8711b77f4ab7108f3a22077c5dfe787eed3d048a0b82734",
    "PublicKey Path": "private-key-b.pub"
  }
}
```
</details>
æ—¢å­˜ã®ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼ã‚­ãƒ¼ã‚’æ–°ã—ã„ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¾ã™ï¼š

```sh filename="Terminal"
aptos account rotate-key \
    --assume-yes \
    --new-private-key-file private-key-b \
    --profile test-profile-1 \
    --save-to-profile test-profile-2
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": {
    "message": "Saved new profile test-profile-2",
    "transaction": {
      "transaction_hash": "0xe561b710390511203511d15eee6f019a2e43ba32f8e3b7ce6bf812232e3bd27f",
      "gas_used": 449,
      "gas_unit_price": 100,
      "sender": "aaa8dc0f5e7a6e820f7b1906d99864412b12274ed259ad06bc2c2d8ee7b51e51",
      "sequence_number": 1,
      "success": true,
      "timestamp_us": 1717810059696079,
      "version": 1109,
      "vm_status": "Executed successfully"
    }
  }
}
```
</details>
### ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¯”è¼ƒ
`test-profile-1`ï¼ˆç¾åœ¨ã¯å¤ã„ï¼‰ã¨`test-profile-2`ï¼ˆç¾åœ¨ã®æœ€æ–°ï¼‰ã‚’æ¯”è¼ƒã—ã¾ã™ã€‚ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚­ãƒ¼ã¯å¤‰æ›´ã•ã‚Œã¦ã„ã¾ã™ãŒã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¤‰æ›´ã•ã‚Œã¦ã„ãªã„ã“ã¨ã«æ³¨ç›®ã—ã¦ãã ã•ã„ï¼š

```sh filename="Terminal"
aptos config show-profiles --profile test-profile-1
aptos config show-profiles --profile test-profile-2
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": {
    "test-profile-1": {
      "has_private_key": true,
      "public_key": "0xb517173e68f4116e99c7fa1677058a6ee786a3b9e12447000db7fd85ab99dbdd",
      "account": "aaa8dc0f5e7a6e820f7b1906d99864412b12274ed259ad06bc2c2d8ee7b51e51",
      "rest_url": "http://localhost:8080",
      "faucet_url": "http://localhost:8081"
    }
  }
}
{
  "Result": {
    "test-profile-2": {
      "has_private_key": true,
      "public_key": "0xadc3dd795fdd8569f59dc7b9900b38a5d7b95348b815de4eb5f00e2c2da07916",
      "account": "aaa8dc0f5e7a6e820f7b1906d99864412b12274ed259ad06bc2c2d8ee7b51e51",
      "rest_url": "http://localhost:8080",
      "faucet_url": "http://localhost:8081"
    }
  }
}
```
</details>
æ–°ã—ã„èªè¨¼ã‚­ãƒ¼ã‚’æ¤œç´¢ã—ã¾ã™:

```sh filename="Terminal"
aptos move view \
    --args address:$ADDRESS_A \
    --function-id 0x1::account::get_authentication_key \
    --url http://localhost:8080
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": [
    "0xbbbdb12f4fa23b8fe8711b77f4ab7108f3a22077c5dfe787eed3d048a0b82734"
  ]
}
```
</details>
èªè¨¼ã‚­ãƒ¼ã‚’ã‚·ã‚§ãƒ«å¤‰æ•°ã«ä¿å­˜ã—ã¾ã™:

```sh filename="Terminal"
AUTH_KEY_B=bbb...
```

<Callout type="info" emoji="ğŸ§ ">
`jq`ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹UNIXç³»ãƒã‚·ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ã«ç°¡å˜ã«èªè¨¼ã‚­ãƒ¼ã‚’ä¿å­˜ã§ãã¾ã™:

```sh filename="Terminal"
export AUTH_KEY_B=$(
    aptos move view \
        --args address:$ADDRESS_A \
        --function-id 0x1::account::get_authentication_key \
        --url http://localhost:8080 \
        | jq -r '.Result[0]'
)
echo $AUTH_KEY_B
```
</Callout>
### ç™ºä¿¡å…ƒã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç¢ºèª

æ–°ã—ã„èªè¨¼ã‚­ãƒ¼ã®ç™ºä¿¡å…ƒã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç¢ºèªã—ã¾ã™:

```sh filename="Terminal"
aptos move view \
    --args address:$AUTH_KEY_B \
    --function-id 0x1::account::originating_address \
    --url http://localhost:8080
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": [
    {
      "vec": [
        "0xaaa8dc0f5e7a6e820f7b1906d99864412b12274ed259ad06bc2c2d8ee7b51e51"
      ]
    }
  ]
}
```
</details>
å¤ã„èªè¨¼ã‚­ãƒ¼ã®ç™ºä¿¡å…ƒã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç¢ºèªã—ã¾ã™:

```sh filename="Terminal"
aptos move view \
    --args address:$AUTH_KEY_A \
    --function-id 0x1::account::originating_address \
    --url http://localhost:8080
```
<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": [
    {
      "vec": []
    }
  ]
}
```
</details>
### ç„¡åŠ¹ãªãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®è©¦è¡Œ(åŒä¸€ã‚­ãƒ¼)

ç¾åœ¨ã®èªè¨¼ã‚­ãƒ¼ã¨æ–°ã—ã„èªè¨¼ã‚­ãƒ¼ãŒåŒä¸€ã§ã‚ã‚‹ç„¡åŠ¹ãªãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è©¦è¡Œã—ã¾ã™:

```sh filename="Terminal"
aptos account rotate-key \
    --assume-yes \
    --new-private-key-file private-key-b \
    --profile test-profile-2 \
    --skip-saving-profile
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Error": "Invalid arguments: New public key cannot be the same as the current public key"
}
```
</details>

### ç„¡åŠ¹ãªãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®è©¦è¡Œ(æ–°ã—ã„ã‚­ãƒ¼ãŒæ—¢ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹å ´åˆ)

åˆ¥ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‚’ä½œæˆã—ã¾ã™:

```sh filename="Terminal"
aptos key generate \
    --assume-yes \
    --output-file private-key-c \
    --vanity-prefix 0xccc
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": {
    "PrivateKey Path": "private-key-c",
    "PublicKey Path": "private-key-c.pub",
    "Account Address:": "0xccc79d46b2963cb87f2ff32c51eb6c6361e8aa108d334d3183c3016389542958"
  }
}
```
</details>

æ–°ã—ã„ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆæœŸåŒ–ã—ã¾ã™:

```sh filename="Terminal"
aptos init \
    --assume-yes \
    --network local \
    --private-key-file private-key-c \
    --profile test-profile-3
```
<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
Configuring for profile test-profile-3
Configuring for network Local
Using command line argument for private key
Account 0xccc79d46b2963cb87f2ff32c51eb6c6361e8aa108d334d3183c3016389542958 doesn\'t exist, creating it and funding it with 100000000 Octas
Account 0xccc79d46b2963cb87f2ff32c51eb6c6361e8aa108d334d3183c3016389542958 funded successfully

---
Aptos CLI is now set up for account 0xccc79d46b2963cb87f2ff32c51eb6c6361e8aa108d334d3183c3016389542958 as profile test-profile-3!  Run `aptos --help` for more information about commands
{
  "Result": "Success"
}
```
</details>
æ–°ã—ã„èªè¨¼ã‚­ãƒ¼ãŒæ—¢ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹ç„¡åŠ¹ãªãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è©¦ã¿ã¾ã™:

```sh filename="Terminal"
aptos account rotate-key \
    --assume-yes \
    --max-gas 100000 \
    --new-private-key-file private-key-b \
    --profile test-profile-3 \
    --skip-saving-profile
```
(ã“ã“ã§ã¯`--max-gas`ã‚’æŒ‡å®šã—ã¦ã€å®Ÿéš›ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã»ã©è©³ç´°ãªã‚¨ãƒ©ãƒ¼ã‚’å‡ºåŠ›ã—ãªã„ãƒ­ãƒ¼ã‚«ãƒ«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã€‚)

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Error": "API error: Unknown error Transaction committed on chain, but failed execution: Move abort in 0x1::account: ENEW_AUTH_KEY_ALREADY_MAPPED(0x10015): The new authentication key already has an entry in the `OriginatingAddress` table"
}
```
</details>
### ç„¡åŠ¹ãªãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®è©¦è¡Œï¼ˆç„¡åŠ¹ãªç™ºä¿¡å…ƒã‚¢ãƒ‰ãƒ¬ã‚¹ï¼‰

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ`0xaaa...`ã®èªè¨¼ã‚­ãƒ¼ã‚’ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ`0xccc...`ã®èªè¨¼ã‚­ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¾ã™:

```sh filename="Terminal"
aptos account rotate-key \
    --assume-yes \
    --new-private-key-file private-key-c \
    --profile test-profile-2 \
    --save-to-profile test-profile-4
```

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Result": {
    "message": "Saved new profile test-profile-4",
    "transaction": {
      "transaction_hash": "0xa5dec792d82ef7471cdf82b9c957fc79b5815da770ad1dd9232ae4692e4f0895",
      "gas_used": 449,
      "gas_unit_price": 100,
      "sender": "aaa8dc0f5e7a6e820f7b1906d99864412b12274ed259ad06bc2c2d8ee7b51e51",
      "sequence_number": 2,
      "success": true,
      "timestamp_us": 1717812312772580,
      "version": 5355,
      "vm_status": "Executed successfully"
    }
  }
}
```
</details>
æ¬¡ã«ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ`0xccc...`ã®èªè¨¼ã‚­ãƒ¼ã‚’åˆã‚ã¦ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€å‰å›ã®æ“ä½œã§[`account::OriginatingAddress`]ãƒ†ãƒ¼ãƒ–ãƒ«ã«èªè¨¼ã‚­ãƒ¼ã®ã‚¨ãƒ³ãƒˆãƒªãŒç¢ºç«‹ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ã“ã®æ“ä½œã¯ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã™:

```sh filename="Terminal"
aptos account rotate-key \
    --assume-yes \
    --max-gas 100000 \
    --new-private-key-file private-key-b \
    --profile test-profile-3 \
    --skip-saving-profile
```
(ã“ã“ã§ã¯`--max-gas`ã‚’æŒ‡å®šã—ã¦ã€å®Ÿéš›ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã»ã©è©³ç´°ãªã‚¨ãƒ©ãƒ¼ã‚’å‡ºåŠ›ã—ãªã„ãƒ­ãƒ¼ã‚«ãƒ«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã€‚)

<details>
<summary>å‡ºåŠ›ä¾‹</summary>
```sh filename="Terminal"
{
  "Error": "API error: Unknown error Transaction committed on chain, but failed execution: Move abort in 0x1::account: EINVALID_ORIGINATING_ADDRESS(0x6000d): Abort the transaction if the expected originating address is different from the originating address on-chain"
}
```
</details>
### ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™:

```shell filename="Terminal"
aptos config delete-profile --profile test-profile-1
aptos config delete-profile --profile test-profile-2
aptos config delete-profile --profile test-profile-3
aptos config delete-profile --profile test-profile-4
```

ãã®å¾Œã€localnetã‚’åœæ­¢ã—ã€ç§˜å¯†éµã¨å…¬é–‹éµã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã§ãã¾ã™ã€‚

<Callout type="info" emoji="ğŸ§ ">
UNIXç³»ã®ãƒã‚·ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆ:

```shell filename="Terminal"
aptos config delete-profile --profile test-profile-1
aptos config delete-profile --profile test-profile-2
aptos config delete-profile --profile test-profile-3
aptos config delete-profile --profile test-profile-4
rm private-key-*
kill $LOCALNET_PID
rm -fr localnet-data
```
</Callout>

### Ledgerã§ã®éµã®ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

Ledgerãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã«å®‰å…¨ã«ä¿å­˜ã•ã‚ŒãŸç§˜å¯†éµã‚’ä½¿ç”¨ã—ã¦ã€èªè¨¼éµã®ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚è©³ç´°ã«ã¤ã„ã¦ã¯ã€[Ledgerèªè¨¼éµãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰](../cli/trying-things-on-chain/ledger.mdx#authentication-key-rotation)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

</Steps>

## TypeScriptã§ã®éµã®ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ä¾‹
    ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã€devnetä¸Šã«Aliceã¨Bobã¨ã„ã†2ã¤ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã€è³‡é‡‘ã‚’æä¾›ã—ãŸå¾Œã€
    Aliceã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®Authenticationã‚­ãƒ¼ã‚’Bobã®ã‚‚ã®ã«å¤‰æ›´ã—ã¾ã™ã€‚

    ã“ã®ã‚³ãƒ¼ãƒ‰ã®å®Œå…¨ãªä¾‹ã¯[ã“ã¡ã‚‰](https://github.com/aptos-labs/aptos-core/blob/main/ecosystem/typescript/sdk/examples/typescript-esm/rotate_key.ts)ã§ç¢ºèªã§ãã¾ã™ã€‚

    ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹é–¢æ•°ã¯éå¸¸ã«ã‚·ãƒ³ãƒ—ãƒ«ã§ã™:

    {/* TODO CODE EXAMPLE */}

    ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰:

    ### TypeScript SDKãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦rotate_key.tsã‚’å®Ÿè¡Œ
    ```bash filename="Terminal"
    cd ~/aptos-core/ecosystem/typescript/sdk/examples/typescript-esm
    pnpm install && pnpm rotate_key
    ```

    ### rotate_key.tsã®å‡ºåŠ›
    ```shell filename="Terminal"
    Account Address Auth Key Private Key Public Key
    ------------------------------------------------------------------------------------------------
    Alice 0x213d...031013 '0x213d...031013' '0x00a4...b2887b' '0x859e...08d2a9'
    Bob 0x1c06...ac3bb3 0x1c06...ac3bb3 0xf2be...9486aa 0xbbc1...abb808

    ...rotating...

    Alice 0x213d...031013 '0x1c06...ac3bb3' '0xf2be...9486aa' '0xbbc1...abb808'
    Bob 0x1c06...ac3bb3 0x1c06...ac3bb3 0xf2be...9486aa 0xbbc1...abb808
    ```

## Pythonã§ã®éµã®ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ä¾‹
    ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã€devnetä¸Šã«Aliceã¨Bobã¨ã„ã†2ã¤ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã€è³‡é‡‘ã‚’æä¾›ã—ãŸå¾Œã€
    Aliceã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®Authenticationã‚­ãƒ¼ã‚’Bobã®ã‚‚ã®ã«å¤‰æ›´ã—ã¾ã™ã€‚

    ã“ã®ã‚³ãƒ¼ãƒ‰ã®å®Œå…¨ãªä¾‹ã¯[ã“ã¡ã‚‰](https://github.com/aptos-labs/aptos-core/blob/main/ecosystem/python/sdk/examples/rotate_key.py)ã§ç¢ºèªã§ãã¾ã™ã€‚

    ä»¥ä¸‹ãŒAliceã®éµã‚’Bobã®éµã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹é–¢é€£ã‚³ãƒ¼ãƒ‰ã§ã™:

    {/* TODO CODE EXAMPLE */}

    ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰:
    ### Python SDKãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦rotate_key.tsã‚’å®Ÿè¡Œ
    ```bash filename="Terminal"
    cd aptos-core/ecosystem/python/sdk
    poetry install && poetry run python -m examples.rotate-key
    ```

    ### rotate_key.pyã®å‡ºåŠ›
    ```bash filename="Terminal"
    Account Address Auth Key Private Key Public Key
    ------------------------------------------------------------------------------------------------
    Alice 0x213d...031013 '0x213d...031013' '0x00a4...b2887b' '0x859e...08d2a9'
    Bob 0x1c06...ac3bb3 0x1c06...ac3bb3 0xf2be...9486aa 0xbbc1...abb808

    ...rotating...

    Alice 0x213d...031013 '0x1c06...ac3bb3' '0xf2be...9486aa' '0xbbc1...abb808'
    Bob 0x1c06...ac3bb3 0x1c06...ac3bb3 0xf2be...9486aa 0xbbc1...abb808
    ```

[`account::rotate_authentication_key`]: https://github.com/aptos-labs/aptos-core/blob/acb6c891cd42a63b3af96561a1aca164b800c7ee/aptos-move/framework/aptos-framework/sources/account.move#L326
[`account::rotate_authentication_key_call`]: https://github.com/aptos-labs/aptos-core/blob/acb6c891cd42a63b3af96561a1aca164b800c7ee/aptos-move/framework/aptos-framework/sources/account.move#L294
[`account::RotationProofChallenge`]: https://github.com/aptos-labs/aptos-core/blob/acb6c891cd42a63b3af96561a1aca164b800c7ee/aptos-move/framework/aptos-framework/sources/account.move#L79
[`account::OriginatingAddress`]: https://github.com/aptos-labs/aptos-core/blob/acb6c891cd42a63b3af96561a1aca164b800c7ee/aptos-move/framework/aptos-framework/sources/account.move#L70
[`account::set_originating_address`]: https://github.com/alnoki/aptos-core/blob/5ba4a8d1344b0bb6e22665525a96e787b9a44e55/aptos-move/framework/aptos-framework/sources/account.move#L528