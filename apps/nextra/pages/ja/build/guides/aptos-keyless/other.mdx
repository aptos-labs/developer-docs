---
title: "キーレスの用語集とよくある質問"
---

## 用語集

- **OpenID Connect (OIDC)**：フェデレーテッドアイデンティティ検証を可能にするために使用されるアイデンティティ認証プロトコルです。このプロトコルは、例えば「Googleでサインイン」フローを使用する際に使用されます。
- **アイデンティティプロバイダー (IdP)**：OIDCを通じてあなたのアイデンティティを認証する信頼された機関です。サポートされている例には：Googleが含まれます。
- **JSON Web Token (JWT)：** クライアントとサーバー（2つの当事者）間でセキュリティ情報を共有するために使用されるオープンスタンダードです。各JWTには、エンコードされたJSONオブジェクトが含まれており、一連のクレームが含まれています。JWTは、トークンが発行された後にクレームが改ざんされないことを保証するために、暗号化アルゴリズムを使用して署名されています。
  - `iss`、OIDCプロバイダーの識別子（例：https://accounts.google.com）
  - `aud`、ユーザーがサインインしているアプリケーションのOAuth `client_id`（例：[Notion.so](https://notion.so)）
  - `sub`、OIDCプロバイダーがユーザーを識別するために使用する識別子
    - これはこの`client_id`に固有の識別子である場合があります
    - または、異なる`client_id`間で共有される識別子である場合があります（例：FacebookのOIDCはこれを行います）
  - `email`、一部のプロバイダーはユーザーのメールアドレスもフィールドの1つとして公開する場合があります（例：Google）
    - さらに、プロバイダーがユーザーがこのメールアドレスの所有者であることを確認したかどうかを示す`email_verified`フィールドが公開されます
  - `nonce`、アプリケーションがOIDCプロバイダーに署名してもらいたい任意のデータ
  - `iat`、JWTが発行された時刻
- **一時的なキーペア：** Aptosキーレスアカウントのトランザクションに署名するために使用される一時的な公開鍵/秘密鍵のペアです。公開鍵とその有効期限は、`nonce`フィールドを通じてJWTトークンにコミットされます。
- **キーレスアカウント：** (1)ユーザーのOIDCアカウント（例：alice@gmail.com）と(2)関連するアプリケーションのOAuth client_id（例：Notion.so）から直接導出されるブロックチェーンアカウントです。ユーザーはOIDCフローを通じて認証します。
- **JSON Web Key (JWK)：** OIDCプロバイダーの暗号化公開鍵です。この公開鍵は、OIDCプロバイダーがクライアントアプリケーションに発行したJWTの署名を検証するために使用されます。これにより、クライアントアプリケーションはトークンの信頼性を確認し、改ざんされていないことを確認できます。
- **client_id：** アプリケーションをIdPに登録した後にIdPから受け取るOAuth識別子です。これは、ユーザーのアドレス導出でキーレスアーキテクチャで使用されます。
- **redirect_uri：** ユーザーが正常に認証した後のコールバックハンドラーのURIです。IdPに登録する必要があります。

## セレモニー

AptosはGroth16ベースのZKサーキットを保護するために、反復的な信頼できるセットアップセレモニーを実施しました。信頼できるセットアップセレモニーは、zkSNARKシステムで使用されるプルーバーキーと検証者キーを出力するマルチパーティ計算（MPC）で、効率的なゼロ知識証明システムでは一般的です。セレモニーの参加者の1人が正直である限り、プロセスは安全とみなされ、出力は有効になります。私たちの最初のセレモニーは、Aptosエコシステムの140人以上のメンバーで構成され、これは分散化、セキュリティ、コミュニティの力の素晴らしい実証でした。その後、開発者のフィードバックフェーズを経て、Keylessが普遍的にアクセス可能であることを確実にするのに役立つサーキットの改善を特定し実装することができました。最終的なセレモニーの貢献は、このリポジトリの[こちら]で見つけることができ、[こちら]で概説されているプロセスを使用して検証できます。

## よくある質問

**キーレスアカウントを使用する最適な方法は何ですか？**

- キーレスアカウントの最適な使用方法は、ユースケースによって異なります。エコシステム全体でのアカウントの相互運用性がdAppの体験にとって重要な場合（例：あなたのプラットフォームでNFTをミントし、ユーザーが外部のNFTマーケットプレイスでそのNFTを販売できるようにする）、キーレスをサポートするウォレットの統合を検討することをお勧めします。ユーザーがアプリケーションを離れることなくトランザクションを実行できる、完全に組み込まれたアカウント体験を作成したい場合は、Aptos Keyless SDKの直接統合を検討することをお勧めします。

**キーレスはスポンサー付きトランザクションで動作しますか？それともユーザーは常に自分のガス代を支払う必要がありますか？**

- はい、キーレスは通常の秘密鍵ベースのアカウントと同様に、スポンサー付きトランザクションで動作します。

**Aptos Keyless SDKを使用する場合、ユーザーは他のdAppでアカウントを使用できますか？**

- キーレスアカウントは、アドレス導出にアプリケーションの一意の識別子が含まれているため、作成されたドメインに限定されます。

**Aptos Connectとは何ですか？**

- アカウント管理インフラストラクチャ：キーレスアカウントのパラダイムの中心には、ユーザーアカウントの作成、削除、管理、および関連するメタデータの保存と取得を容易にする堅牢なアカウント管理インフラストラクチャがあります。

- キーレスアカウントの採用は使いやすさとセキュリティの向上に向けたパラダイムシフトを告げるものですが、開発者はこのシステムと平文の秘密鍵などの一般的な代替手段との間のトレードオフを認識しておく必要があります。

**外部サービスへの依存はありますか？**

- はい、キーレスアカウントは外部認証サービス（ペッパーとプルーバー）への依存度を導入し、サービスの中断を緩和し、中断のないユーザーアクセスを確保するための緊急時計画とフォールバックメカニズムが必要です。

**dAppがダウンした場合、ユーザーはキーレスアカウントにアクセスできなくなります。その場合、どのようにユーザーを保護できますか？**

- dAppにKeylessを統合する際は、ユーザーに追加のバックアップリカバリーオプションをサポートすることをお勧めします。具体的には、dAppでキーレスアカウントにバックアップ秘密鍵を追加することをお勧めします。実際には、これによりアカウントは1対2のマルチシグアカウントに変換され、両方のキーがユーザーによって所有されます。これにより、ユーザーはdAppを通じてOIDCログインを使用してキーレスアカウントにアクセスし続けることができますが、ユーザーがバックアップ秘密鍵を任意のセルフカストディアル製品にエクスポートする機能が追加され、従来の秘密鍵で同じアカウントからトランザクションに署名できるようになります。これにより、dAppがシャットダウンしたり、ユーザーがOIDCアカウントへのアクセスを失ったりしても、ユーザーがデジタル資産へのアクセスを失うことがないことが保証されます。
- dAppのユーザージャーニーのどの時点でバックアップを組み込むのが適切かを判断する必要があります。ユーザージャーニーの後半でバックアップを組み込むと、Keylessが提供するシームレスなオンボーディング体験は維持されますが、リカバリーキーを受け取るユーザーが少なくなる可能性があります。オンボーディングプロセス中にバックアップキーの追加を促すと、より多くのユーザーがリカバリーキーを受け取る可能性が高くなりますが、オンボーディングプロセス中に潜在的な摩擦が追加される可能性があります。
