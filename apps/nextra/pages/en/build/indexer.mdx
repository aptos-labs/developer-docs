---
title: "Indexer"
---

import { IndexerBetaNotice, ThemedImage, Cards, Card, GraphQLEditor } from '@components/index';
import { Tabs } from 'nextra/components'

# Indexer

<IndexerBetaNotice />

The Aptos Indexer is an API you can use to get:

1. Aggregate data (ex. How many NFTs exist?)
2. Historical data (ex. What transactions has this account submitted?)
3. Data that is hard to get from the simpler [Aptos Node API](apis/fullnode-rest-api.mdx) (ex. What account owns a token named "ExampleToken"?).

The Indexer watches every transaction that is processed by the ledger, and uses it to update a collection of tables which can then be queried using GraphQL.
Applications can use Aptos Lab's public Indexer API to get the data they need quickly, without needing to host their own infrastructure to track on-chain transactions.

Here's an interactive example of how you can query for the Current Coin Balances of an account. More usage examples can be found by going to the example queries in the sidebar.

<GraphQLEditor
  query={`query GetCoinBalances($address: String, $offset: Int) {
  current_coin_balances(
    where: {owner_address: {_eq: $address}},
    offset: $offset,
    limit: 100,
    order_by: {amount: desc}
  ) {
    coin_type
    amount
    __typename
  }
}`}
  variables={`{
  "address": "0x0000000000000000000000000000000000000000000000000000000000000001",
  "offset": 0
}`}
/>


## Using the Indexer API

Learn how to use the Indexer API, what each table represents, and how to add custom data to the Indexer.

<Cards>
  <Card href="indexer/api/labs-hosted">
    <Card.Title>Aptos Labs Indexer API</Card.Title>
    <Card.Description>Query Aptos Labs GraphQL Indexer API hosted on Hasura</Card.Description>
  </Card>
    <Card href="indexer/indexer-reference">
    <Card.Title>Indexer Table Reference</Card.Title>
    <Card.Description>Detailed reference for indexer tables and their schemas.</Card.Description>
  </Card>
  <Card href="indexer/custom-processors">
    <Card.Title>Indexer Processors</Card.Title>
    <Card.Description>Use existing or custom indexer processors to shape on-chain data for your application</Card.Description>
  </Card>
</Cards>

### Example Queries

To help get you started, here are the most common queries the Indexer is used for.

<Cards>
  <Card href="indexer/coin-balances">
    <Card.Title>Get Coin Balances</Card.Title>
    <Card.Description>Get all coins an account currently owns.</Card.Description>
  </Card>
  <Card href="indexer/account-transactions">
    <Card.Title>Get Account Transactions</Card.Title>
    <Card.Description>Get all transactions impacting an account.</Card.Description>
  </Card>
  <Card href="indexer/ans-lookup">
    <Card.Title>Get Account Domain Name</Card.Title>
    <Card.Description>Retrieve the domain name associated with an account (via the ANS).</Card.Description>
  </Card>
  <Card href="indexer/coin-info">
    <Card.Title>Get Coin Info</Card.Title>
    <Card.Description>Get detailed information about a specific coin.</Card.Description>
  </Card>
  <Card href="indexer/get-nft-collections">
    <Card.Title>Get NFT Collections</Card.Title>
    <Card.Description>Retrieve NFT collections owned by a specific account.</Card.Description>
  </Card>
  <Card href="indexer/get-nfts">
    <Card.Title>Get NFTs</Card.Title>
    <Card.Description>Retrieve individual NFTs owned by a specific account.</Card.Description>
  </Card>
  <Card href="indexer/token-metadata">
    <Card.Title>Get Token Metadata</Card.Title>
    <Card.Description>Get metadata information for a specific token.</Card.Description>
  </Card>
  <Card href="indexer/get-delegators">
    <Card.Title>Count Delegators in Staking Pool</Card.Title>
    <Card.Description>Retrieve the number of active delegators in a staking pool.</Card.Description>
  </Card>
</Cards>

## Customizing the Indexer

If the hosted Indexer API is not enough, you can customize and host your own versions of the Indexer.

<Cards>
  <Card href="indexer/architecture">
    <Card.Title>Architecture</Card.Title>
    <Card.Description>Detailed layout of Indexer Architecture</Card.Description>
  </Card>
  <Card href="indexer/custom-processors">
    <Card.Title>Custom Processors</Card.Title>
    <Card.Description>Customize way data is processed and shared in the Indexer</Card.Description>
  </Card>
  <Card href="indexer/txn-stream">
    <Card.Title>Transaction Streaming Service</Card.Title>
    <Card.Description>GRPC transaction streaming service, consumed by the Indexer</Card.Description>
  </Card>
  <Card href="indexer/api/self-hosted">
    <Card.Title>Self-hosted Indexer API</Card.Title>
    <Card.Description>Host your own Indexer API</Card.Description>
  </Card>
</Cards>

## Legacy Indexer

Find information about the legacy indexer [here](indexer/legacy.mdx).
