import { Callout } from 'nextra/components'

# Install the Move Prover

If you want to use the [Move Prover](../../smart-contracts/prover.mdx), install the Move Prover dependencies after [installing the CLI binary](.).
There are two ways to install Prover dependencies.

## Installation through Aptos CLI (Recommended)

1. [Install the latest Aptos CLI binary](../install-cli/install-cli-mac.mdx).

2. Execute the command `aptos update prover-dependencies`.

<Callout type="info">
  Environment variables `BOOGIE_EXE` and `Z3_EXE` will be set automatically after installation. Please make sure
  they are in effect in the current environment.
</Callout>

## Installation through `aptos-core` (Not Recommended)

1. See [Building Aptos From Source](../../../network/nodes/building-from-source.mdx)

2. Then, in the checked out aptos-core directory, install additional Move tools:
   <details>
   <summary>Linux / macOS</summary>

   1. Open a Terminal session.
   2. Run the dev setup script to prepare your environment: `./scripts/dev_setup.sh -yp`
   3. Update your current shell environment: `source ~/.profile`

   <Callout type="info" emoji="ℹ️">
   `dev_setup.sh -p` updates your `~./profile` with environment variables to support the installed Move Prover tools. You may need to set `.bash_profile` or `.zprofile` or other setup files for your shell.
   </Callout>

   </details>
   <details>
   <summary>Windows</summary>

   1. Open a PowerShell terminal as an administrator.
   2. Run the dev setup script to prepare your environment: `PowerShell -ExecutionPolicy Bypass -File ./scripts/windows_dev_setup.ps1 -y`

   </details>


After installation, you can run the Move Prover to prove an [example](https://github.com/aptos-labs/aptos-core/tree/main/aptos-move/move-examples/hello_prover):
   ```bash filename="Terminal"
   aptos move prove --package-dir aptos-move/move-examples/hello_prover/
   ```

## Troubleshooting

If you encounter errors like the one below when running the command, double-check your Aptos CLI version or verify that you're using the correct `aptos` tool, especially if you have multiple versions installed.

```bash filename="Terminal
error: unexpected token
    ┌─ ~/.move/https___github_com_aptos-labs_aptos-core_git_main/aptos-move/framework/aptos-framework/sources/randomness.move:515:16
    │
515 │         for (i in 0..n) {
    │             -  ^ Expected ')'
    │             │
    │             To match this '('

{
  "Error": "Move Prover failed: exiting with model building errors"
}
```
