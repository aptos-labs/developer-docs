---
title: "Indexer GraphQL API"
---

import { GraphQLEditor } from '@components/index'
import { Callout } from 'nextra/components'

# Most Commonly Used Indexer Queries

Below are the top 10 most common Indexer queries. You can expand each section to see an in-line GraphQL editor that you can edit to explore the data.

Notice that there are $variables in the queries which can be customized at the bottom of the editor. 

<Callout type="info">
The easiest way to customize the queries is to modify the variable values at the bottom of the in-line editor.
</Callout>

You can copy these queries into your code or run them by hand. 

To see all tables available in the Indexer, you can go to the Hasura explorer here:

{/* TODO Link to the table reference once that PR is merged */}
For a list of what the fields in the most commonly used tables mean, you can explore the Indexer Table Reference.

<details>
<summary>Look up token name and info</summary>

### Description
By providing a list of coin types, `GetCoinInfos` can fetch data such as the symbol, name, decimals, and the coin type itself. This is particularly useful for applications needing to display token details.

#### Variables:
- `$in`: **List of String** - This variable should contain a list of coin types you want to query information for. Ex. ["0x1::aptos_coin::AptosCoin"]
- `$offset`: **Integer** (Optional) - This variable can be used to paginate through results, specifying how many records to skip before starting to return results.

<GraphQLEditor
  query={`query GetCoinInfos($in: [String!], $offset: Int) {
    coin_infos(
      where: {coin_type: {_in: $in}},
      offset: $offset,
      limit: 100
    ) {
      symbol
      name
      decimals
      coin_type
      __typename
    }
  }`}
  variables={`{
  "in": ["0x1::aptos_coin::AptosCoin", "0x1::example_coin::ExampleCoin"],
  "offset": 0
}`}
  disableTabs={true}
/>
</details>

<details>
<summary>Get transactions that affect an account</summary>

### Description
`GetAccountTransactionsData` fetches the latest transactions that involved a specific account. This is useful for applications that need to track or display a historical log of transactions associated with an account.

#### Variables:
- `$address`: **String** - The Aptos account address for which you want to query transaction data. Ex. "0x96b8e9422ed1f3786b13ed4891a59065b87b974971fa66378b525299cd90f77a"
- `$limit`: **Integer** (Optional) - Specifies the maximum number of transaction versions to return. This is useful for limiting the results to a manageable size.

<GraphQLEditor
  query={`query GetAccountTransactionsData($address: String, $limit: Int) {
    address_version_from_move_resources(
      where: {address: {_eq: $address}},
      order_by: {transaction_version: desc},
      limit: $limit
    ) {
      transaction_version
      __typename
    }
  }`}
  variables={`{
  "address": "0x96b8e9422ed1f3786b13ed4891a59065b87b974971fa66378b525299cd90f77a",
  "limit": 10
}`}
  disableTabs={true}
/>
</details>

<details>
<summary>Retrieve NFT collections for an account</summary>

### Description
`GetAccountNftCollections` fetches detailed information about NFT collections owned by a specific account address. This includes data such as the collection ID, distinct token count within each collection, and detailed attributes of each collection. It's particularly useful for applications that need to display comprehensive details about NFT holdings associated with an account.

#### Variables:
- `$address`: **String** - The Aptos account address for which you want to query NFT collection data. Example: `"0xa1b2c3d4e5f6789901234567890abcdef1234567890abcdef1234567890abcdef"`

<GraphQLEditor
  query={`query GetAccountNftCollections($address: String) {
    current_collection_ownership_v2_view(
      where: {owner_address: {_eq: $address}},
      limit: 1000000,
      offset: 0,
      order_by: [{last_transaction_version: desc}, {collection_id: asc}]
    ) {
      collection_id
      distinct_tokens
      last_transaction_version
      owner_address
      current_collection {
        collection_id
        collection_name
        creator_address
        current_supply
        description
        last_transaction_timestamp
        last_transaction_version
        max_supply
        mutable_description
        mutable_uri
        table_handle_v1
        token_standard
        total_minted_v2
        uri
        __typename
      }
      __typename
    }
  }`}
  variables={`{
    "address": "0x8824ebb6e0d60656f6d4d5bbc408805d9ca6b984aad78b16f42b1dae545d6762"
  }`}
  disableTabs={true}
/>
</details>

<details>
<summary>Retrieve NFT holdings for an account</summary>

### Description
`GetAccountNfts` retrieves a list of NFTs owned by a specified account address. This query provides comprehensive details about each token, including its collection details, description, and unique identifiers. It is ideal for platforms that need to display the NFT portfolios of users or provide insights into the NFT market holdings.

#### Variables:
- `$address`: **String** - The Aptos account address for which you want to query NFT data. Example: `"0xa1b2c3d4e5f6789901234567890abcdef1234567890abcdef1234567890abcdef"`

<GraphQLEditor
  query={`query GetAccountNfts($address: String) {
    current_token_ownerships_v2(
      where: {owner_address: {_eq: $address}, amount: {_gt: "0"}}
    ) {
      current_token_data {
        collection_id
        largest_property_version_v1
        current_collection {
          collection_id
          collection_name
          description
          creator_address
          uri
          __typename
        }
        description
        token_name
        token_data_id
        token_standard
        token_uri
        __typename
      }
      owner_address
      amount
      __typename
    }
  }`}
  variables={`{
    "address": "0x8824ebb6e0d60656f6d4d5bbc408805d9ca6b984aad78b16f42b1dae545d6762"
  }`}
  disableTabs={true}
/>
</details>
